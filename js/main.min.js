(function(){function r(){var a=c.getBoundingClientRect().top;0>a?g.classList.add("fixed"):0<a&&g.classList.remove("fixed")}function t(){200<=c.scrollHeight?(g.style.display="inline-block",window.addEventListener("scroll",r),g.addEventListener("click",q)):u()}function u(){g.style.display="none";window.removeEventListener("scroll",r);g.removeEventListener("click",q)}function q(){c.classList.contains("open-area")||!c.value?(c.classList.remove("open-area"),c.style.height="200px"):(c.classList.add("open-area"),
c.style.height=c.scrollHeight+"px",c.scrollIntoView(!1))}function v(a){return null==a.which?32>a.keyCode?null:String.fromCharCode(a.keyCode):0!=a.which&&0!=a.charCode?32>a.which?null:String.fromCharCode(a.which):null}function f(){this.style.width=23+10*this.value.length+"px"}function w(a,b){l=!0;m=setTimeout(function(){b.call(a)},1E3)}function x(){l?(this.value=+this.value+y(k),k++,f.call(this),setTimeout(x.bind(this),50)):clearTimeout(m)}function z(){l?(this.value=+this.value-y(k),k++,f.call(this),
setTimeout(z.bind(this),50)):clearTimeout(m)}function y(a){var b=1;40<=a&&(b=11);70<=a&&(b=111);150<=a&&(b=1111);250<=a&&(b=10111);350<=a&&(b=101111);return b}function n(a,b){a.classList.add(b);setTimeout(function(){a.classList.remove(b)},2E3)}function B(a){return a.split("").map(function(a){return((a.charCodeAt(0)^+d.value)-+e.value).toString(36).split("").reverse().join("")}).join(h.value)}function C(a){return a.split(h.value).map(function(a){a=a.split("").reverse().join("");return String.fromCharCode(+d.value^
parseInt(a,36)+ +e.value)}).join("")}var D=document.querySelector(".fields__cipher-button"),p=document.getElementById("fields-input"),c=document.getElementById("fields-output"),d=document.querySelector(".fields__first-key"),e=document.querySelector(".fields__second-key"),h=document.querySelector(".fields__connector-value");document.onwheel=function(a){if("TEXTAREA"==a.target.tagName){var b=a.target;a=a.deltaY||a.detail||a.wheelDelta;if(0>a&&0==b.scrollTop||0<a&&1>=b.scrollHeight-b.clientHeight-b.scrollTop)return!1}};
var g=document.querySelector(".expand-button");c.oninput=t;c.onkeyup=function(a){8==a.keyCode&&200<this.clientHeight&&!this.value.length&&(q(),u())};h.onkeypress=function(a){if(!(a.ctrlKey||a.altKey||a.metaKey)){a=v(a);if(!isNaN(a))return!1;if(a)return this.value=a.toUpperCase(),!1}};d.onkeypress=e.onkeypress=function(a){if(a.a||a.shiftKey||a.altKey||isNaN(+v(a))||14<=a.target.value.length)return!1};d.addEventListener("keyup",f);e.addEventListener("keyup",f);d.addEventListener("keydown",f);e.addEventListener("keydown",
f);var l=!1,k=1,m,A=document.querySelector(".fields__set-value");A.onmousedown=function(a){a=a.target;var b=a.parentNode.querySelector("input");"down"==a.className&&(b.value--,f.call(b),w(b,z));"up"==a.className&&(b.value++,f.call(b),w(b,x))};A.onmouseup=function(){l=!1;k=1;clearTimeout(m)};D.onclick=function(){var a=!0;p.value||(n(p,"error-area"),a=!1);if(!d.value||isNaN(d.value)||14<=d.value.length)n(d,"error-input"),a=!1;if(!e.value||isNaN(e.value)||14<=e.value.length)n(e,"error-input"),a=!1;if(!h.value||
1<h.value.length)n(h,"error-input"),a=!1;if(a){if(document.getElementById("checkbox").checked){for(var a=p.value.split("%"),b=0;b<a.length;b++)a[b]=C(a[b]);c.value=a.join(" ")}else{a=p.value.split(" ");for(b=0;b<a.length;b++)a[b]=B(a[b]);c.value=a.join("%")}t()}}})();